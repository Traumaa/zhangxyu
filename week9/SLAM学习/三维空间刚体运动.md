# WEEK9：SLAM学习——三维空间刚体运动

## 9.1 数学基础

**向量内积**

![](image/2022-08-19-17-03-32.png)

**向量外积**

![](image/2022-08-19-17-04-10.png)

其中

![](image/2022-08-19-17-04-36.png)

## 9.3 坐标与坐标系 

![](image/2022-08-19-17-05-11.png)

## 9.4 坐标系之间的欧式变换

设想一下，如若获得了相机当前的位姿（称为相机坐标系），同时以相机的初始位姿作为世界坐标系，如何将相机视野里的某个向量由相机坐标系下的坐标变换到世界坐标下？这就需要进行坐标系间的变换。所谓欧式变换，则是指在刚体运动过程中，向量在各个坐标系内的长度与角度不会发生变化。

![](image/2022-08-19-19-05-25.png)

简便起见，先讨论旋转而忽略平移。记两组原点在同一位置上的基底，分别为$e$和$e‘$，同一个向量在两组基底下的坐标分别为$a$和$a’$，显然对于同一个向量，是无关坐标系的，所以有

![](image/2022-08-19-19-06-12.png)

两边同时左乘一个列向量如下

![](image/2022-08-19-19-06-53.png)

由矩阵乘法可以得到

![](image/2022-08-19-19-07-00.png)

对于矩阵

![](image/2022-08-19-19-07-16.png)

由于e是一组线性无关的基底，而式中相当于在求基中各个线性无关向量的点乘，而线性无关时，一个向量在另一个向量上的投影为0，所以只有主对角线上的三个值为1，其余为0。也就是说，这是一个单位矩阵。

所以原式变为了

![](image/2022-08-19-19-07-25.png)

其中

![](image/2022-08-19-19-07-33.png)

称R为**旋转矩阵**，该矩阵必为正交矩阵，即其逆与其转置矩阵是一致的，且行列式为1

把n维旋转矩阵记作一个集合SO(n)，称为特殊正交群

![](image/2022-08-19-19-08-15.png)


这样就得到了一个**坐标变换方程：**

![](image/2022-08-19-19-08-39.png)

相反的变换也很容易得到：

![](image/2022-08-19-19-08-48.png)
